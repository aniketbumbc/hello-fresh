{"ast":null,"code":"var _jsxFileName = \"/Users/aniketbhavsar/Desktop/Code Challenage/Hello Fresh/aniketbumbc-recipe-selection-react-test/hello-fresh/src/modules/recipes/RecipesList.js\";\nimport React, { useState } from 'react';\nimport { Row, Col } from '../../components/Grid';\nimport Flex from '../../components/Flex';\nimport Box from '../../components/Box';\nimport RecipeCard from './RecipeCard';\nimport PriceInfo from './PriceInfo';\nimport { calculateRecipeBoxTotal, getUniqueRecipes } from './price';\nimport useFetchHelloFreshBox from '../../hooks/useFetchHelloFreshBox';\nconst Recipes = () => {\n  // This state stores the array of recipes with the changes performed by the customer.\n  const [recipes, setRecipes] = useState([]);\n  const {\n    data,\n    loading\n  } = useFetchHelloFreshBox();\n  const [selectedRecipesInBox, setSelectedRecipesInBox] = useState([]);\n\n  /**\n   * Metohd handleAddRecipe accept recipeId.\n   * Increment newly added recipe selected by one.\n   * added on selectedRecipesInBox.\n   * @param {*} recipeId\n   */\n\n  const handleAddRecipe = recipeId => {\n    const newlyAddedRecipe = recipes.find(recipe => recipe.id === recipeId);\n    if (newlyAddedRecipe.id === recipeId) {\n      newlyAddedRecipe.selected += 1;\n    }\n    setSelectedRecipesInBox([...selectedRecipesInBox, newlyAddedRecipe]);\n  };\n\n  /**\n   * Metohd handleAddRecipe accept recipeId.\n   * decrement selected recipe selected by one.\n   * removed from selectedRecipesInBox.\n   * @param {*} recipeId\n   */\n\n  const handleRemoveRecipe = recipeId => {\n    const removedRecipe = recipes.find(recipe => recipe.id === recipeId);\n    if (removedRecipe.id === recipeId) {\n      removedRecipe.selected -= 1;\n    }\n    const reomveRecipeIndex = selectedRecipesInBox.findIndex(recipe => recipe.id === recipeId);\n    setSelectedRecipesInBox(selectedRecipesInBox.filter((recipe, index) => index !== reomveRecipeIndex));\n  };\n\n  /**\n   * totalPrice is based on @selectedRecipesInBox @baseRecipePrice @shippingPrice\n   */\n\n  const totalPrice = selectedRecipesInBox && !!selectedRecipesInBox.length && calculateRecipeBoxTotal(data.baseRecipePrice, data.shippingPrice, selectedRecipesInBox);\n\n  /**\n   * Method setSelectedRecipesInBox which is selected.\n   * @param {*} fetchedRecipes\n   */\n\n  const handleSelectedRecipes = fetchedRecipes => {\n    setSelectedRecipesInBox(fetchedRecipes.filter(recipe => recipe.selected > 0));\n  };\n  React.useEffect(() => {\n    const {\n      recipes: fetchedRecipes\n    } = data;\n    if (fetchedRecipes) {\n      setRecipes(fetchedRecipes);\n      handleSelectedRecipes(fetchedRecipes);\n    }\n  }, [setRecipes, data]);\n  if (loading) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, data.headline)), /*#__PURE__*/React.createElement(Col, {\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Flex, {\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    textAlign: \"right\",\n    mr: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, totalPrice)), /*#__PURE__*/React.createElement(PriceInfo, {\n    summary: getUniqueRecipes(selectedRecipesInBox),\n    totalPrice: totalPrice,\n    baseRecipePrice: data.baseRecipePrice,\n    shippingPrice: data.shippingPrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, recipes.map(recipe => /*#__PURE__*/React.createElement(Col, {\n    sm: 12,\n    md: 6,\n    xl: 4,\n    key: recipe.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    mb: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RecipeCard, Object.assign({}, recipe, {\n    handleAddRecipe: handleAddRecipe,\n    handleRemoveRecipe: handleRemoveRecipe,\n    minRecipesSelected: selectedRecipesInBox.length >= data.min,\n    maxRecipesSelected: selectedRecipesInBox.length >= data.max,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  })))))));\n};\nexport default Recipes;","map":{"version":3,"names":["React","useState","Row","Col","Flex","Box","RecipeCard","PriceInfo","calculateRecipeBoxTotal","getUniqueRecipes","useFetchHelloFreshBox","Recipes","recipes","setRecipes","data","loading","selectedRecipesInBox","setSelectedRecipesInBox","handleAddRecipe","recipeId","newlyAddedRecipe","find","recipe","id","selected","handleRemoveRecipe","removedRecipe","reomveRecipeIndex","findIndex","filter","index","totalPrice","length","baseRecipePrice","shippingPrice","handleSelectedRecipes","fetchedRecipes","useEffect","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","sm","headline","alignItems","justifyContent","textAlign","mr","summary","map","md","xl","key","mb","Object","assign","minRecipesSelected","min","maxRecipesSelected","max"],"sources":["/Users/aniketbhavsar/Desktop/Code Challenage/Hello Fresh/aniketbumbc-recipe-selection-react-test/hello-fresh/src/modules/recipes/RecipesList.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { Row, Col } from '../../components/Grid';\nimport Flex from '../../components/Flex';\nimport Box from '../../components/Box';\nimport RecipeCard from './RecipeCard';\nimport PriceInfo from './PriceInfo';\nimport { calculateRecipeBoxTotal, getUniqueRecipes } from './price';\nimport useFetchHelloFreshBox from '../../hooks/useFetchHelloFreshBox';\n\nconst Recipes = () => {\n  // This state stores the array of recipes with the changes performed by the customer.\n  const [recipes, setRecipes] = useState([]);\n  const { data, loading } = useFetchHelloFreshBox();\n  const [selectedRecipesInBox, setSelectedRecipesInBox] = useState([]);\n\n  /**\n   * Metohd handleAddRecipe accept recipeId.\n   * Increment newly added recipe selected by one.\n   * added on selectedRecipesInBox.\n   * @param {*} recipeId\n   */\n\n  const handleAddRecipe = (recipeId) => {\n    const newlyAddedRecipe = recipes.find((recipe) => recipe.id === recipeId);\n    if (newlyAddedRecipe.id === recipeId) {\n      newlyAddedRecipe.selected += 1;\n    }\n    setSelectedRecipesInBox([...selectedRecipesInBox, newlyAddedRecipe]);\n  };\n\n  /**\n   * Metohd handleAddRecipe accept recipeId.\n   * decrement selected recipe selected by one.\n   * removed from selectedRecipesInBox.\n   * @param {*} recipeId\n   */\n\n  const handleRemoveRecipe = (recipeId) => {\n    const removedRecipe = recipes.find((recipe) => recipe.id === recipeId);\n    if (removedRecipe.id === recipeId) {\n      removedRecipe.selected -= 1;\n    }\n    const reomveRecipeIndex = selectedRecipesInBox.findIndex((recipe) => recipe.id === recipeId);\n    setSelectedRecipesInBox(\n      selectedRecipesInBox.filter((recipe, index) => index !== reomveRecipeIndex)\n    );\n  };\n\n  /**\n   * totalPrice is based on @selectedRecipesInBox @baseRecipePrice @shippingPrice\n   */\n\n  const totalPrice =\n    selectedRecipesInBox &&\n    !!selectedRecipesInBox.length &&\n    calculateRecipeBoxTotal(data.baseRecipePrice, data.shippingPrice, selectedRecipesInBox);\n\n  /**\n   * Method setSelectedRecipesInBox which is selected.\n   * @param {*} fetchedRecipes\n   */\n\n  const handleSelectedRecipes = (fetchedRecipes) => {\n    setSelectedRecipesInBox(fetchedRecipes.filter((recipe) => recipe.selected > 0));\n  };\n\n  React.useEffect(() => {\n    const { recipes: fetchedRecipes } = data;\n\n    if (fetchedRecipes) {\n      setRecipes(fetchedRecipes);\n      handleSelectedRecipes(fetchedRecipes);\n    }\n  }, [setRecipes, data]);\n\n  if (loading) {\n    return null;\n  }\n\n  return (\n    <>\n      <Row>\n        <Col sm={6}>\n          <h3>{data.headline}</h3>\n        </Col>\n        <Col sm={6}>\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            <Box textAlign=\"right\" mr=\"xs\">\n              <h3>{totalPrice}</h3>\n            </Box>\n            <PriceInfo\n              summary={getUniqueRecipes(selectedRecipesInBox)}\n              totalPrice={totalPrice}\n              baseRecipePrice={data.baseRecipePrice}\n              shippingPrice={data.shippingPrice}\n            />\n          </Flex>\n        </Col>\n      </Row>\n\n      <Row>\n        {recipes.map((recipe) => (\n          <Col sm={12} md={6} xl={4} key={recipe.id}>\n            <Box mb=\"md\">\n              <RecipeCard\n                {...recipe}\n                handleAddRecipe={handleAddRecipe}\n                handleRemoveRecipe={handleRemoveRecipe}\n                minRecipesSelected={selectedRecipesInBox.length >= data.min}\n                maxRecipesSelected={selectedRecipesInBox.length >= data.max}\n              />\n            </Box>\n          </Col>\n        ))}\n      </Row>\n    </>\n  );\n};\n\nexport default Recipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}